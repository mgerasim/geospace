@using GeospaceMediana.Models;
@{
    ViewBag.Title = @ViewBag.Title;
}

<h3>@ViewBag.Station.Name - @ViewBag.Station.Code.ToString(). @ViewBag.Date.ToShortDateString()</h3>

<div id="container" style="width:100%; height:400px;"></div>

@section Scripts
{
    @Scripts.Render("~/Scripts/highcharts.js")
    @Scripts.Render("~/Scripts/draggable-points.js")     

<script>

    $(function () {
    $('#container').highcharts({
        title: {
            text: 'Скользящие средние частоты слоя @ViewBag.Type за 5 дней'
        },
        xAxis :{
                title: {
                    text: 'Часы'
                },
                categories: [
                @for(int i=0;i<24;i++)
                {
                    @Html.Raw("'"+i.ToString("00")+"'")
                    
                    if(i!=23)
                    {
                        @:,
                    }
                }
            ],
            lineWidth: 2,
            gridLineWidth: 1,
            tickInterval:1,
            tickmarkPlacement: 'on',
        },
        yAxis: [{ // Primary yAxis
            labels: {
                format: '{value}',
                style: {
                    color: Highcharts.getOptions().colors[1]
                }
            },
            title: {
                text: 'Критическая частота МГц ⋅ 10',
                style: {
                    color: Highcharts.getOptions().colors[1]
                }
            }
        }, { // Secondary yAxis
            title: {
                text: 'Количество пропущенных значений',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            },
            labels: {
                format: '{value}',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            },
            opposite: true
        }],
        tooltip: {
            shared: true
        },

        series: [{
            name: 'Пропущенные значения',
            type: 'column',
            yAxis: 1,
            data: @ViewBag.value_05_skip

        }, {
            name: 'Средняя частота слоя @ViewBag.Type',
            type: 'spline',
            data: @ViewBag.value_05
            }
        , {
            name: 'Фактическая частота слоя @ViewBag.Type',
            type: 'spline',
            data: @ViewBag.value
        }]
    });
});


</script>
    }
