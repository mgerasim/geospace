@using GeospaceMediana.Models;
@{
    ViewBag.Title = "Геомагнитные данные по ст.Диксон";
}

@if (ViewBag.Error != null)
{
    <h1>@ViewBag.Error</h1>
}
else
{
 
    @helper GetColor(ViewMagma Value)   
    {
        if (Value != null)
        { 
            if (Value.value <= 3)
            {
                <text>
                    'green'
                </text>
            }
            else
            if (Value.value == 4)
            {
                <text>
                    "#FFFF00"
                </text>
            }
            else
            { 
                <text>
                    '#FF0000'
                </text>
            }
        }
        else
        {
            <text>
            'yellow'
            </text>
        }
    }
    @helper GetValue(ViewMagma Value)
    {
        <text>
            @(Value != null ? Value.value : 0)
        </text>
    }
    
    @Scripts.Render("~/bundles/flot")
    
    <script type="text/javascript">


	$(document).ready(function() {




	    var data = [{ data: [[0,  @GetValue(Model[0])]], color:  @GetColor(Model[0]) },
            { data: [[1, @GetValue(Model[1])]], color: @GetColor(Model[1]) },
            { data: [[2, @GetValue(Model[2])]], color: @GetColor(Model[2]) },
            { data: [[3, @GetValue(Model[3])]], color: @GetColor(Model[3]) },
            { data: [[4, @GetValue(Model[4])]], color: @GetColor(Model[4]) },
            { data: [[5, @GetValue(Model[5])]], color: @GetColor(Model[5]) },
            { data: [[6, @GetValue(Model[6])]], color: @GetColor(Model[6]) },
            { data: [[7, @GetValue(Model[7])]], color: @GetColor(Model[7]) }];
       

	    $.plot("#placeholder", data, {
	        series: {
	            bars: {
	                show: true,
	                barWidth: 1,
	                align: "center"
	            }
	        },
	        xaxis: {
	            mode: "categories",
	            ticks: [[0, "00-03"], [1, "04-06"], [2, "07-09"], [3, "10-12"], [4, "13-15"], [5, "16-18"], [6, "19-21"], [7, "22-24"]]
	        },
	        yaxis: {
	            tickSize: 10
	        }
	    });

	});

	</script>
    
    
    
    <div id="placeholder" class="demo-placeholder"></div>
    
}
